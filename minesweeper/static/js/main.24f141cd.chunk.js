(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,n,t){e.exports=t(22)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(4),u=t.n(a),o=(t(12),t(2)),c=t(1),l=t(5),s=(t(13),t(14),function(e){return i.a.createElement("div",{id:"mine-count"},e.mineCount)});function m(e){var n=Math.floor(e/60),t=e-60*n;return(n<10?"0":"")+n+":"+(t<10?"0":"")+t}t(15);var d=function(e){return function(e,n){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=e},[e]),Object(r.useEffect)(function(){if(null!==n){var e=setInterval(function(){return t.current()},n);return function(){return clearInterval(e)}}},[n])}(e.tick,e.shouldTick?1e3:null),i.a.createElement("div",{id:"timer"},m(e.time))},f=(t(16),function(e){return i.a.createElement("button",{id:"reset-button",className:e.style,onClick:e.manageClick})}),g=(t(17),function(e){return i.a.createElement("button",{id:"leaderboard-button",onClick:e.manageClick})}),b=(t(18),function(e){return i.a.createElement("header",null,i.a.createElement("div",{id:"header-content"},i.a.createElement("div",null,i.a.createElement(s,{mineCount:e.mineCount})),i.a.createElement("div",null,i.a.createElement(d,{time:e.time,shouldTick:e.timerShouldTick,tick:e.tick})),i.a.createElement(f,{style:e.resetButtonStyle,manageClick:e.resetButtonClicked}),i.a.createElement(g,{manageClick:e.leaderboardButtonClicked})))}),v=(t(19),function(e){return i.a.createElement("button",{id:e.id,className:e.style,onMouseDown:function(n){return e.canClick&&0===n.button?e.manageSquareLeftClick():2===n.button?e.manageSquareRightClick(e.square):null},onMouseUp:function(n){return e.canClick&&0===n.button?e.manageSquareMouseUp(e.square):null}},e.content)}),h=(t(20),function(e){var n=function(e){return e.isFlagged?"square-flagged":e.isDiscovered?e.isDiscovered&&e.isAMine?"square-mine":e.isDiscovered&&0===e.numberOfNeighbouringMines?"square-discovered":(n=e.numberOfNeighbouringMines)>=4?"square-numbered-four":3===n?"square-numbered-three":2===n?"square-numbered-two":"square-numbered-one":"square-undiscovered";var n},t=function(e){return e.isFlagged?null:e.isAMine?null:e.isDiscovered&&e.numberOfNeighbouringMines>0?e.numberOfNeighbouringMines:null};return i.a.createElement("div",{id:"minefield"},e.minefield.map(function(r,a){return i.a.createElement(v,{key:a,style:n(r),id:!e.canClickSquares||r.isDiscovered||r.isFlagged?"minefield-square":"undiscovered-minefield-square",manageSquareLeftClick:e.manageSquareLeftClick,manageSquareRightClick:e.manageSquareRightClick,manageSquareMouseUp:e.manageSquareMouseUp,square:r,content:t(r),canClick:e.canClickSquares})}))});t(21);var S=function(e){var n=e.scores.sort(function(e,n){return e.score-n.score}).slice(0,4);return i.a.createElement("div",{id:"modal",onClick:e.modalWasClicked},i.a.createElement("div",{id:"leaderboard"},i.a.createElement("h1",null,"LEADERBOARD"),!e.scores.length&&i.a.createElement("div",null,"No scores yet"),i.a.createElement("ol",null,n.map(function(e,n){return i.a.createElement("li",{className:"leaderboard-item"},i.a.createElement("div",{className:"entryName"},i.a.createElement("div",null,n+1),i.a.createElement("div",null,function(e){var n=e.getDate(),t=e.getMonth();return(n<10?"0":"")+n+"/"+(t+1<10?"0":"")+(t+1)}(e.date))),i.a.createElement("div",null,m(e.score)))})),!!e.scores.length&&i.a.createElement("button",{onClick:function(){return e.removeScoresButtonClicked()}},"CLEAR SCORES")))};var k=function(e){return Object(o.a)(e).sort(function(){return Math.random()-.5})};function O(e,n){var t=n*n-1,r=e<n,i=e%n===0,a=e%n===n-1,u=e>t-n&&e<t+1,o=function(){return r?[]:[e-n]},c=function(){return u?[]:[e+n]};return[r||i?[]:[o()[0]-1],o(),r||a?[]:[o()[0]+1],a?[]:[e+1],u||a?[]:[c()[0]+1],c(),i?[]:[e-1],u||i?[]:[c()[0]-1]].flatMap(function(e){return e})}function E(e){var n,t=(n=e.gridlength*e.gridlength-1,Array(n+1).fill(0).map(function(e,n){return n})),r=k(t).slice(0,e.numberOfMines),i=t.map(function(n){return{isAMine:r.includes(n),isFlagged:!1,isDiscovered:!1,numberOfNeighbouringMines:O(n,e.gridlength).filter(function(e){return r.includes(e)}).length}}),a=r.map(function(e){return i[e]});return{minefield:i,mineSquares:a,numberOfMines:e.numberOfMines,gridlength:e.gridlength}}var C=E({gridlength:10,numberOfMines:12}),q={time:0,leaderboardShouldShow:!1,gridLength:10,numberOfMines:12,minefield:C.minefield,mineSquares:C.mineSquares,scores:function(){if(null===JSON.parse(localStorage.getItem("minesweeperScores")))return[];var e=JSON.parse(localStorage.getItem("minesweeperScores")),n=e.map(function(e){return{date:new Date(e.date),score:e.score}});return n}(),mouseButtonIsDown:!1};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.oncontextmenu=function(){return!1},u.a.render(i.a.createElement(function(){var e=Object(r.useState)(q),n=Object(l.a)(e,2),t=n[0],a=n[1];function u(e){var n=new Date,r=t.time,i=t.minefield.map(function(n){return e.includes(n)?Object(c.a)({},n,{isDiscovered:!0}):n});if(0===i.filter(function(e){return!e.isAMine&&!e.isDiscovered}).length){var u={date:n,score:r},l=[].concat(Object(o.a)(t.scores),[u]);localStorage.setItem("minesweeperScores",JSON.stringify(l)),a(function(e){return Object(c.a)({},e,{minefield:i,scores:l,leaderboardShouldShow:!0,mouseButtonIsDown:!1})})}else a(function(e){return Object(c.a)({},e,{minefield:i,mouseButtonIsDown:!1})})}var s=0!==t.minefield.filter(function(e){return e.isDiscovered}).length,m=0===t.minefield.filter(function(e){return!e.isAMine&&!e.isDiscovered}).length,d=t.minefield.filter(function(e){return e.isAMine&&e.isDiscovered}).length>0,f=t.minefield.filter(function(e){return e.isFlagged}).length,g=t.numberOfMines-f,v=t.mouseButtonIsDown?"placing":m?"win":d?"lost":"normal",k=s&&!d&&!m;return i.a.createElement("div",null,t.leaderboardShouldShow&&i.a.createElement(S,{removeScoresButtonClicked:function(){localStorage.removeItem("minesweeperScores"),delete window.localStorage.minesweeperScores,a(function(e){return Object(c.a)({},e,{scores:[]})})},scores:t.scores,modalWasClicked:function(){a(function(e){return Object(c.a)({},e,{leaderboardShouldShow:!1})})}}),i.a.createElement(b,{mineCount:g,time:t.time,timerShouldTick:k,tick:function(){var e=t.time+1;a(function(n){return Object(c.a)({},n,{time:e})})},resetButtonClicked:function(){var e=E({gridlength:t.gridLength,numberOfMines:t.numberOfMines});a(function(n){return Object(c.a)({},n,{time:0,minefield:e.minefield,mineSquares:e.mineSquares})})},resetButtonStyle:v,leaderboardButtonClicked:function(){a(function(e){return Object(c.a)({},e,{leaderboardShouldShow:!0})})}}),i.a.createElement("main",null,i.a.createElement(h,{minefield:t.minefield,gridlength:t.gridLength,manageSquareLeftClick:function(){a(function(e){return Object(c.a)({},e,{mouseButtonIsDown:!0})})},manageSquareRightClick:function(e){var n=!e.isFlagged,r=t.minefield.map(function(t){return t===e?Object(c.a)({},t,{isFlagged:n}):t});e.isDiscovered||a(function(e){return Object(c.a)({},e,{minefield:r})})},manageSquareMouseUp:function(e){e.isFlagged||(e.isAMine?u(t.mineSquares):e.numberOfNeighbouringMines>0?u([e]):u(function e(n,r){if(!n.length)return r;var i=n[0];if(r.includes(i)){var a=n.slice(1);return e(a,r)}if(i.numberOfNeighbouringMines>0){var u=n.slice(1),c=[].concat(Object(o.a)(r),[i]);return e(u,c)}var l=[].concat(Object(o.a)(r),[i]),s=n.slice(1),m=t.minefield.indexOf(i),d=O(m,t.gridLength).map(function(e){return t.minefield[e]}).filter(function(e){return!r.includes(e)}),f=[].concat(Object(o.a)(s),Object(o.a)(d));return e(f,l)}([e],[])))},canClickSquares:!d&&!m})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.24f141cd.chunk.js.map